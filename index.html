<!DOCTYPE html>
<html>
<head>
  <title>Playground Elements</title>
  <!-- Base styles -->
  <style>
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      margin: 0;
      padding: 20px;
      max-width: 1200px;
      margin: 0 auto;
    }
    h1 {
      color: #333;
    }
    playground-ide {
      height: 500px;
      width: 100%;
      margin: 20px 0;
      border: 1px solid #ccc;
      border-radius: 4px;
    }
  </style>

  <!-- Load the web components polyfill for better browser support -->
  <script src="https://cdn.jsdelivr.net/npm/@webcomponents/webcomponentsjs@2.8.0/webcomponents-loader.js"></script>
  
  <!-- Load playground elements directly with script tags to avoid module issues -->
  <script src="https://cdn.jsdelivr.net/npm/playground-elements@0.18.0/playground-ide.js" type="module"></script>
</head>
<body>
  <h1>My Code Playground</h1>
  
  <playground-ide line-numbers resizable editable-file-system>
    <!-- Use inline script tags with the correct type attributes -->
    <script type="sample/html" filename="index.html">
<!DOCTYPE html>
<html>
<head>
  <title>Simple Example</title>
</head>
<body>
  <h1>Hello, <span id="target">loading...</span></h1>
  
  <script src="./script.js"></script>
</body>
</html>
    </script>
    
    <script type="sample/js" filename="script.js">
// Simple JavaScript demo
document.getElementById('target').textContent = 'World!';
console.log('Playground is running!');
    </script>
  </playground-ide>

  <script>
    // Wait for the playground element to be defined
    window.addEventListener('WebComponentsReady', () => {
      console.log('Web Components are ready!');
      
      // Make sure the playground IDE has loaded
      customElements.whenDefined('playground-ide').then(() => {
        console.log('Playground IDE is defined!');
        const playground = document.querySelector('playground-ide');
        
        // Set the config
        playground.config = {
          // Skip TypeScript compilation to avoid tslib dependency
          typescript: false
        };
      });
    });
  </script>
</body>
</html>